---
layout: post
title: 사설 - TMI 승부 예측
---

지난 [2020년 1월 16일 카트라이더 ++](https://youtu.be/Pb8ZGYBxCEI?t=9753) 방송을 통해 “TMI 승부 예측”에 관한 간단한 소개가 있었다. 이것과 2019 시즌 2가 끝나고 공개된 [TMI의 승부 예측 방법](https://tmi.nexon.com/kart/lab/19)을 보고 든 간단한 생각들. 방송 화면 상 이번 시즌 승부 예측에 쓴 모형이 지난 시즌과 특별히 다르다고 볼 이유는 없었으니 이번 시즌에도 같은 모형을 사용했다고 생각하고 내용을 적기로 한다. 

1. 2019 시즌 2의 절망적인 TMI 승부 예측 적중률을 개선하기 위해 넥슨은 재미있는 일을 했다. 연방 데이터를 독점하고 연방 데이터로 승부예측 해서 방송 화면에 내보내기. 회사가 자사의 게임 데이터를 독점적으로 사용하는 데 특별히 불만이 있는 것은 아니다.
2. 2019년 11월 21일, 그러니까 2019 시즌 2 결승전이 조금 지나고 나서 넥슨의 카트라이더 API가 공개되었다. 카쁠쁠 방송화면을 보면 승부예측에 이 API가 사용된 것으로 보인다.
3. 승부예측 방법에 대해 매우 짧게 설명하자면...
    - 모형화하는 대상은 각 경기마다 어떤 선수의 기록과 기준 기록(가장 빠른 기록)의 차이이다 이를 "초과 기록"이라 부르기로 하자. 초과 기록을 정수화한 것이 파라미터 lambda의 푸아송 분포를 따른다 가정한다. 
    - 적절한 베이지안 사전 분포를 주고 Markov chain Monte Carlo라는 방법을 통해 초과 시간의 사후 분포에서 표본을 추출한다. 그리고 추출된 표본을 기반으로 결과(팀 별 합산 점수와 승패)를 예측한다. 
    - 추출된 표본의 평균은 대략적으로 평균 초과 기록이다.
4. 이런 모형을 다른 레이싱 게임에서도 쓰나?
5. 모형이 현실을 잘 반영하는가? ...음.... 몸싸움이 상당한 비중을 차지하는 8인 개인전이나 스피드 팀전에서 주행 기록만으로 만든 모형이 그렇게 좋은 모형인지는 잘 모르겠다. 이 모형은 상대의 실력이나 몸싸움 같은 것은 전혀 모형화하지 않고 있다. 이 모형이 다른 간단한 모형들보다 승부예측을 잘 하는 지 비교/분석한 결과를 봐야 이 모형을 좀 믿을 수 있지 않을까 싶다.
6. 공개된 API에서 실질적으로 주는 정보가 카트 정보와 승패, 주행 시간 뿐이긴 해 보이는데 넥슨 내부에서도 이 정보만 볼 수 있는 걸까?
7. 승패 정보만으로라도 아이템전 결과를 예측해 보면 재미있을 것 같다.
8. 이런 분석 방법을 수학을 잘 모르는 일반 시청자에게 설명하는 것은 매우 어려운 일이다. 그러다보니 넥슨도 TMI 비디오 클립을 만들 때 모든 설명을 포기하고 "우리는 너희들이 볼 수 없는 연방 데이터로 승부를 예측해요. 아주 복잡한 방법이랍니다. 대단하죠?"라는 설명을 하기로 한 것으로 보인다... 필자 마음에는 들지 않는다.
9. 리그 방송에서 화면에 띄워 주는 벽 충돌 수, 유저 충돌 수, 부스터 사용 비율 같은 것은 아무래도 리플레이를 분석해야 나오는 숫자들인 것 같다.
10. 지난 시즌에도 내내 벽 충돌 수, 유저 충돌 수, 부스터 사용 비율을 화면에 띄워줬던 걸로 기억하는데, 왜 지난 시즌 승부예측에서는 데이터가 부족한 것을 뻔히 알면서도 왜 이걸 승부예측에 안 썼을까?
11. 이게 그 빅 데이터인가 뭔가 하는 그거냐고 나한테 물어본다면... 아니라고 대답하겠다. 선수들이 3분에 한 판씩, 일주일 내내 게임만 한다고 가정해도 일주일 분량 데이터는 20(게임/시간) 곱하기 24(시간/일) 곱하기 7(일/주) 곱하기 8(명) = 26,880밖에 안 되는데, 그건 그렇게 큰 데이터가 아니다. 혹시 빅 데이터를 “엑셀에서 돌리기에 큰 데이터”라고 정의한다면 또 모르겠지만.

여담. 카트라이더 갤러리 사용자들은 [박인재 감독이 유튜브 영상](https://youtu.be/1zCzVqNs2J4?t=343)에서 설명하는대로 생산적인 일에 관심이 아예 없다고 봐도 무방하다. 
넥슨 쪽에서는 카트라이더 API를 공개하면서 사용자들이 재미있는 것들을 만들어줄 것이라고 기대했는지 모르겠지만... 
카트라이더 갤러리에서 “API”를 검색해 보고 11월 21일 이후 이 API에 관한 글이 몇 개나 되는 지 세어 보자. 대략 19만 개의 게시글 중 정확히 네 개고, 모두 묻혔다.
